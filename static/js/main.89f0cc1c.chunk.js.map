{"version":3,"sources":["component/dashboard.js","component/useUserSearch.js","component/login.js","component/register.js","App.js","reportWebVitals.js","index.js"],"names":["Dashboard","history","useHistory","useState","pageNumber","setPageNumber","logged","sessionStorage","getItem","query","loading","setLoading","error","setError","users","setUsers","hasMore","setHasMore","useEffect","cancel","axios","method","url","params","page","results","seed","cancelToken","CancelToken","c","then","res","prevusers","data","length","catch","e","isCancel","useUserSearch","observer","useRef","lastUserElementRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","onClick","setItem","push","className","map","user","index","ref","src","picture","thumbnail","alt","name","first","last","dob","age","id","value","to","Login","setName","password","setPassword","type","onChange","target","localStorage","alert","preventDefault","login","Register","console","log","createUser","App","basename","path","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.89f0cc1c.chunk.js","sourcesContent":["import React, { useState, useRef, useCallback } from 'react'\r\nimport { useHistory,Link } from 'react-router-dom'\r\nimport useUserSearch from './useUserSearch'\r\nimport './dashboard.css';\r\nfunction Dashboard() {\r\n    const history = useHistory()\r\n    const [query, setQuery] = useState('')\r\n    const [pageNumber, setPageNumber] = useState(1)\r\n    const logged = sessionStorage.getItem('loggedIn')\r\n    const {\r\n      users,\r\n      hasMore,\r\n      loading,\r\n      error\r\n    } = useUserSearch(query, pageNumber)\r\n  \r\n    const observer = useRef()\r\n    const lastUserElementRef = useCallback(node => {\r\n      if (loading) return\r\n      if (observer.current) observer.current.disconnect()\r\n      observer.current = new IntersectionObserver(entries => {\r\n        if (entries[0].isIntersecting && hasMore) {\r\n          setPageNumber(prevPageNumber => prevPageNumber + 1)\r\n        }\r\n      })\r\n      if (node) observer.current.observe(node)\r\n    }, [loading, hasMore])\r\n  \r\n    function handleSearch(e) {\r\n      setQuery(e.target.value)\r\n      setPageNumber(1)\r\n    }\r\n\r\n    if(logged==='Yes'){\r\n\r\n    return (\r\n        \r\n        <div>\r\n            <h1>Dashboard</h1>\r\n            <button onClick={()=>{\r\n                sessionStorage.setItem('loggedIn','No')\r\n                history.push('/')\r\n            }} className=\"signout\">Sign Out</button>\r\n\r\n    <>\r\n\r\n      {\r\n\r\n      users.map((user, index) => {\r\n        if (users.length === index + 1) {\r\n          return <div className=\"parentDiv\" ref={lastUserElementRef} key={user.id.value}>\r\n              <div>\r\n              <img src={user.picture.thumbnail} alt={user.name.first}/>\r\n        </div>    \r\n          <div>\r\n          {user.name.first+' '+ user.name.last}\r\n          </div>\r\n\r\n       \r\n          <div>\r\n          {user.dob.age}\r\n          </div>\r\n              </div>\r\n        } else {\r\n          return <div className=\"parentDiv\"  key={user.name.first+user.name.last}>\r\n          <span>\r\n              <img src={user.picture.thumbnail}/>\r\n         \r\n          <span>\r\n          <strong>{user.name.first+' '+ user.name.last}</strong>\r\n          </span>\r\n          </span> \r\n          {/* <div>\r\n          {user.name.last}\r\n          </div>\r\n        */}\r\n          <div>\r\n          {user.dob.age}\r\n          </div>\r\n          </div>\r\n        }\r\n      })}\r\n      <div>{loading && 'Loading...'}</div>\r\n      <div>{error && 'Error'}</div>\r\n    </>\r\n            \r\n        </div>\r\n    )\r\n    }\r\n    else{\r\n        return (\r\n            <>\r\n        <h1>User not logged In</h1>\r\n            <Link to=\"/\">Login</Link>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Dashboard\r\n","import { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function useUsersearch(query, pageNumber) {\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(false)\r\n  const [users, setUsers] = useState([])\r\n  const [hasMore, setHasMore] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    setError(false)\r\n    let cancel\r\n    axios({\r\n      method: 'GET',\r\n      url: 'https://randomuser.me/api',\r\n      params: { page: pageNumber,\r\n      results:'30',\r\n      seed: 'abc' },\r\n      cancelToken: new axios.CancelToken(c => cancel = c)\r\n    }).then(res => {\r\n      setUsers(prevusers => {\r\n        // return [...new Set([...prevusers, ...res.data.results.map(b => b)])]\r\n        // return [...new Set([...prevusers, ...res.data.results.map(b=>b.name.first)])]\r\n        return ([...prevusers, ...res.data.results])\r\n      })\r\n      setHasMore(res.data.results.length > 0)\r\n      setLoading(false)\r\n    }).catch(e => {\r\n      if (axios.isCancel(e)) return\r\n      setError(true)\r\n    })\r\n    return () => cancel()\r\n  }, [pageNumber])\r\n\r\n  return { loading, error, users, hasMore }\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport { useHistory,Link } from 'react-router-dom'\r\nimport './login.css'\r\n\r\nfunction Login() {\r\n    \r\n    const history =useHistory()\r\n\r\n    const [name,setName]=useState('')\r\n    const [password,setPassword] = useState('')\r\n \r\n\r\n    function login(name,password,e){\r\n    if(!name || !password){\r\n        alert('blank values')\r\n        return\r\n    }\r\n        if(localStorage.getItem(name)===password){\r\n\r\n            sessionStorage.setItem('loggedIn','Yes')\r\n            history.push('/dashboard');\r\n        }\r\n        else{\r\n            alert('User not found, please check username and password, or register if you havent')\r\n        }\r\n\r\n    \r\n        e.preventDefault();\r\n    }\r\n    return (\r\n        <div>\r\n            <form>\r\n                <h1>Login</h1>\r\n                <h4>Name</h4>\r\n            <input type=\"text\" value={name} onChange={(e)=>{\r\n                setName(e.target.value)\r\n            }}></input>\r\n              <h4>Password</h4>\r\n            <input type=\"password\" value={password} onChange={(e)=>{\r\n                setPassword(e.target.value)\r\n            }}/>\r\n            <div className=\"parentOfLogin\">\r\n            <button className=\"loginButton\" type=\"submit\" onClick={(e)=>{\r\n                login(name,password,e)\r\n            }}>Login</button>\r\n              <Link to=\"/register\"><div>Register</div></Link>\r\n            </div>\r\n            </form>\r\n            \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useState,useEffect} from 'react'\r\n\r\nimport { useHistory,Link } from 'react-router-dom'\r\nimport './login.css'\r\n\r\n\r\nfunction Register() {\r\n    const history = useHistory()\r\n    const [name,setName]=useState('')\r\n    const [password,setPassword] = useState('')\r\n\r\n    function createUser(e){\r\n        const user = {name:name,\r\n        password:password}\r\n            console.log(user)\r\n        if(!localStorage.getItem(user.name)){\r\n        localStorage.setItem(user.name,user.password)\r\n        alert('User Created')\r\n        history.push('/')\r\n        }\r\n      e.preventDefault()\r\n    }\r\n    return (\r\n\r\n        <div>\r\n            <form>\r\n                <h1>Register</h1>\r\n                <h4>Name</h4>\r\n            <input type=\"text\" value={name} onChange={(e)=>{\r\n                setName(e.target.value)\r\n            }}></input>\r\n             <h4>Password</h4>\r\n            <input type=\"password\" value={password} onChange={(e)=>{\r\n                setPassword(e.target.value)\r\n            }}/>\r\n             <div className=\"parentOfLogin\">\r\n            <button className=\"registerButton\" type=\"submit\" onClick={(e)=>createUser(e)}>Register</button>\r\n            <Link to=\"/\">Login</Link>\r\n            </div>\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React, { useState, useRef, useCallback } from 'react'\nimport Dashboard from './component/dashboard';\nimport Login from './component/login'\nimport Register from './component/register'\n\nimport {BrowserRouter as Router,HashRouter, Switch, Route} from 'react-router-dom'\n\nexport default function App() {\n\n  return (\n\n    <HashRouter basename=\"/\">\n    <div>\n      <Switch>\n        <Route path='/' exact component={Login}/>\n        <Route path= '/register' exact component={Register}/>\n        <Route path= '/dashboard' exact component={Dashboard}/>\n\n      </Switch>\n \n\n    </div>\n    </HashRouter>\n\n  )\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}